{"ast":null,"code":"import _regeneratorRuntime from \"/home/diego/code/galeria/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/diego/code/galeria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar axios = require('axios').default;\n\nimport ShowImage from './ShowImage.vue';\nexport default {\n  components: {\n    ShowImage: ShowImage\n  },\n  name: \"GalleryTest\",\n  data: function data() {\n    return {\n      gallery: [],\n      photos: [],\n      show: false,\n      counter: 0,\n      isActive: false\n    };\n  },\n  mounted: function mounted() {\n    this.scroll(this.photos);\n    this.getPhotos();\n  },\n  methods: {\n    scroll: function scroll() {\n      var _this = this;\n\n      window.onscroll = function () {\n        console.log('scrolll');\n        var bottomOfWindow = document.documentElement.scrollTop + window.innerHeight === document.documentElement.offsetHeight;\n\n        if (bottomOfWindow) {\n          var elementsToCharge = _this.counter + 50;\n\n          for (_this.counter; _this.counter <= elementsToCharge; _this.counter++) {\n            _this.photos.push(_this.gallery[_this.counter]);\n          }\n\n          console.log(_this.photos);\n        }\n      };\n    },\n    getPhotos: function getPhotos() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('https://jsonplaceholder.typicode.com/photos').then(function (response) {\n                  if (response.data.lenght !== 0) {\n                    _this2.gallery = response.data;\n                    var elementsToCharge = _this2.counter + 50;\n\n                    for (_this2.counter; _this2.counter <= elementsToCharge; _this2.counter++) {\n                      _this2.photos.push(_this2.gallery[_this2.counter]);\n                    }\n                  }\n\n                  _this2.show = true;\n                  console.log(response);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;;AAEA;AACA;EACAA;IAAAC;EAAA,CADA;EAEAC,mBAFA;EAGAC,IAHA,kBAGA;IACA;MACAC,WADA;MAEAC,UAFA;MAGAC,WAHA;MAIAC,UAJA;MAKAC;IALA;EAQA,CAZA;EAaAC,OAbA,qBAaA;IACA;IACA;EACA,CAhBA;EAiBAC;IACAC,MADA,oBACA;MAAA;;MACAC;QACAC;QACA;;QACA;UACA;;UACA;YACA;UACA;;UACAA;QACA;MACA,CAVA;IAWA,CAbA;IAcAC,SAdA,uBAcA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEAC;kBACA;oBACA;oBACA;;oBACA;sBACA;oBACA;kBACA;;kBACA;kBACAF;gBACA,CAVA,CAFA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAaA;EA3BA;AAjBA","names":["components","ShowImage","name","data","gallery","photos","show","counter","isActive","mounted","methods","scroll","window","console","getPhotos","axios"],"sourceRoot":"src/components","sources":["Gallery.vue"],"sourcesContent":["<template>\n  <v-container>\n    \n    <div class=\"pa-6 text-center\">\n      Scroll down\n    </div>\n\n    <v-responsive\n      class=\"text-center pa-2\"\n    >\n      <v-responsive></v-responsive>\n      <div class=\"text-center text-body-2 mb-12\">\n        The card will appear below:\n      </div>\n\n      <v-lazy\n        v-model=\"isActive\"\n        :options=\"{\n          threshold: .5\n        }\"\n        min-height=\"200\"\n        transition=\"fade-transition\"\n      >\n       <v-row>\n      <v-col cols=\"5\">\n        <div v-for=\"photo in photos\" :key=\"photo.id\">\n          <show-image :photo=\"photo\">\n          </show-image>\n        </div>\n        <!-- <show-image v-if=\"show\" :photo=\"gallery[0]\">\n          </show-image> -->\n      </v-col>\n    </v-row>\n      </v-lazy>\n    </v-responsive>\n     \n\n  </v-container>\n</template>\n\n<script>\nconst axios = require('axios').default;\n\nimport ShowImage from './ShowImage.vue'\n  export default {\n    components: { ShowImage },\n    name: \"GalleryTest\",\n    data() {\n      return{\n        gallery: [],\n        photos: [],\n        show: false,\n        counter: 0,\n        isActive: false,\n\n      }\n    },\n    mounted () {\n      this.scroll(this.photos)\n      this.getPhotos()\n    },\n    methods:{\n      scroll () {\n        window.onscroll = () => {\n          console.log('scrolll');\n          let bottomOfWindow = document.documentElement.scrollTop + window.innerHeight === document.documentElement.offsetHeight\n          if (bottomOfWindow) {\n            let elementsToCharge = this.counter + 50\n            for(this.counter; this.counter<= elementsToCharge; this.counter++){\n              this.photos.push(this.gallery[this.counter])\n            }\n            console.log(this.photos);\n          }\n        };\n      },\n      async getPhotos() {\n        \n        await axios.get('https://jsonplaceholder.typicode.com/photos').then(response => {\n          if(response.data.lenght!==0){\n            this.gallery=response.data\n             let elementsToCharge = this.counter + 50\n             for(this.counter; this.counter<= elementsToCharge; this.counter++){\n              this.photos.push(this.gallery[this.counter])\n            }         \n          }\n          this.show= true\n          console.log(response);\n        })\n      }\n    }\n}\n</script>\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}